<!--
  ~ Elaastic - formative assessment system
  ~ Copyright (C) 2019. University Toulouse 1 Capitole, University Toulouse 3 Paul Sabatier
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->

<!DOCTYPE html>
<html lang="en"
      th:replace="layout/anonymous :: anonymousLayout(~{::title}, ~{::section})"
      xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
  <title th:text="'elaastic: '+#{player.assignment.registration.title(${assignmentTitle})}">elaastic</title>
</head>

<body>

<section>

  <div th:replace="layout/components/message :: message(${messageType}, ${messageContent})">
    Message
  </div>

  <h1 class="ui header"
      th:text="#{player.assignment.registration.title(${assignmentTitle})}" style="margin-bottom: 3em;"></h1>

  <div class="ui placeholder segment" style="margin-bottom: 5em;">
    <div class="ui two column stackable center aligned grid">
      <div class="ui vertical divider" th:text="#{common.or}">Ou</div>
      <div class="middle aligned row">
        <div class="column">
          <div class="ui icon header">
            <i class="user icon"></i>
            <span  th:text="#{player.assignment.registration.withaccount.notice}">Accédez au devoir avec votre compte utilisateur</span>
          </div>

          <div>
            <a th:href="@{/player/authenticated-register(globalId=${globalId})}"
               class="ui primary button"
               th:text="#{springSecurity.login.button}">
              Connexion
            </a>
          </div>

        </div>

        <div class="column">
          <div class="ui icon header">
            <i class="coffee icon"></i>
            <span th:text="#{player.assignment.registration.withoutaccount.notice}">Accédez au devoir sans compte utilisateur</span>
          </div>

          <form id="anonymous-access-form" method="get" th:action="@{/player/start-anonymous-session}">
            <input type="hidden" name="globalId" th:value="${globalId}" />
          <div class="ui action input">
            <input type="text" name="nickname" placeholder="Pseudo" />
            <a href="#" class="ui button" onclick="document.getElementById('anonymous-access-form').submit();" th:text="#{common.Access}">Accès</a>
          </div>
          </form>

        </div>
      </div>
    </div>
  </div>
</section>
</body>
</html>
