<!--
  ~ Elaastic - formative assessment system
  ~ Copyright (C) 2019. University Toulouse 1 Capitole, University Toulouse 3 Paul Sabatier
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->

<!DOCTYPE html>
<html lang="en"
      th:fragment="iframeContent(title, content)"
      th:with="extraHeader=${extraHeader} ?: ~{}"
      xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/>
        <meta content="width=device-width, initial-scale=1, maximum-scale=2, user-scalable=no" name="viewport"/>
        <meta name="description" th:content="#{elaastic.description}">
        <meta name="author" content="University Toulouse 1 Capitole, University Toulouse 3 Paul Sabatier">
        <meta content="#ffffff" name="theme-color"/>
        <meta th:replace="${extraHeader}"/>
        <link rel="shortcut icon" th:href="@{/images/favicon.ico}" type="image/x-icon"/>
        <title th:replace="${title}">Page title</title>
        <link th:href="@{/semantic/dist/semantic.min.css}" type="text/css" rel="stylesheet" media="screen, projection"/>
        <link th:href="@{/css/elaastic.css}" type="text/css" rel="stylesheet" media="screen, projection"/>
        <link th:href="@{/css/introjs.min.css}" type="text/css" rel="stylesheet" media="screen, projection"/>
        <script th:src="@{/js/jquery.js}"></script>
        <script th:src="@{/semantic/dist/semantic.min.js}"></script>
        <script th:src="@{/js/vuejs/vue.min.js}"></script>
        <script th:src="@{/js/vuejs/vue-resource.min.js}"></script>
        <script th:src="@{/js/js.cookie.js}"></script>
        <script th:src="@{/js/elaastic/util.js}"></script>
        <script th:src="@{/js/elaastic/draxo/draxo-fn.js}"></script>
        <script th:src="@{/js/intro.min.js}"></script>
        <script th:src="@{/js/onboarding.js}"></script>
        <script th:src="@{/js/vega.js}"></script>
        <script th:src="@{/js/vega-lite.js}"></script>
        <script th:src="@{/js/vega-embed.js}"></script>
        <script th:src="@{/ckeditor/ckeditor.js}"></script>
        <script th:src="@{/js/vega-min.js}"></script>
        <script th:src="@{/js/underscore-min.js}"></script>
        <script th:src="@{/js/graph/result-graph.js}"></script>
        <script th:src="@{/js/elaastic/auto-reload.js}"></script>
        <script src="https://cdn.jsdelivr.net/npm/@iframe-resizer/child@5.3.2"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_HTML"
                id="MathJax-script" async>
        </script>
        <script th:inline="javascript">
            elaastic.draxo.initialize(/*[[@{/peer-grading/draxo}]]*/);

            $(function () {
                $('.message .close').on('click', function () {
                    $(this).closest('.message').transition('fade')
                })
            })
            saveAction = function (sequenceId, action, object) {
                if (sequenceId != null) {
                    fetch([[${@environment.getProperty('elaastic.questions.url')}]] + 'action/' + sequenceId + '/saveAction/' + action + '/' + object)
                }
            }
        </script>

        <style>
            [v-cloak] {
                display: none;
            }
        </style>
    </head>

    <body style="background-color: #f9f9f9; padding: 1em 2px 0 2px;">
    <div th:replace="${content}"></div>
    </body>
</html>
