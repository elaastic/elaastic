<!--
  ~ Elaastic - formative assessment system
  ~ Copyright (C) 2019. University Toulouse 1 Capitole, University Toulouse 3 Paul Sabatier
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->


<div th:fragment="assignmentNavigator(model, context)"
     th:remove="tag"
     th:if="${model.assignmentOverviewModel.teacher}"
     xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
    <!-- TODO: verify if th:if is teacher works successfully!! -->


  <h3 class="ui top attached block header">
    <i class="question circle outline icon"></i>

    <div class="content" th:text="${model.statement.getTitle()}"></div>
  </h3>

  <div class="ui segment attached"
       th:text="${model.statement.getContent()}">
  </div>

  <div class="ui header attached block assignment-navigator-actions">
    <button class="ui button">
      <i class="angle left icon"></i>

      Lorem ipsum dolor sit amet.
    </button>

    <button class="ui button">
      Lorem ipsum dolor sit amet.

      <i class="angle right icon"></i>
    </button>
  </div>

  <style>
    .assignment-navigator-actions {
      display: flex;
      justify-content: space-between;
      column-gap: 10px;
    }
  </style>

</div>


<div th:fragment="attendeesOverview(model, context)"
     th:remove="tag"
     th:if="${model.teacher}"
     xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
  <!-- TODO: verify if th:if is teacher works successfully!! -->


  <h3 class="ui top attached block header">
    <i class="users alternate outline icon"></i>

    <div class="content" th:text="#{attendees.sectionTitle(${model.nbRegisteredUser})}"></div>
  </h3>

  <div class="ui segment attached"
       th:if="${#lists.isEmpty(model.attendees)}"
       th:text="#{attendees.empty}">
    This assignment is empty.</div>

  <div th:each="attendee, i : ${model.attendees}"
       class="ui clearing attached segment grid attendee-item"
       th:id="|${context}-${attendee.id}|">

    <div class="row two column">
      <div class="attendee-information column"
           style="display: flex; column-gap: 10px; align-items: center;">

        <div class="attendee-picture"
             style="border-radius: 999px; background-color: #e0e0e0;
                  display: flex; justify-content: center; align-items: center; column-gap: 10px;
                  flex: none; aspect-ratio: 1; padding: 5px;">

          <i class="icon user outline large" style="margin: 0;"></i>
        </div>

        <div class="attendee-name ui header"
             style="margin: 0;"
             th:text="${attendee.learner.getFullname()}">
          attendee_name</div>
      </div>

      <div class="attendee-insights column"
           style="display: flex; justify-content: flex-end; column-gap: 15px; align-items: center;">

        <div style="color: #B03060;">   <!-- LABEL: REPORTS COUNT -->
          <i class="icon flag outline"></i>
          <span>
          0</span>
        </div>

        <div style="color: #535353;">   <!-- LABEL: IN COURSE... -->
          <i class="icon pencil alternate"></i>
          <span>
          in_course_label</span>
        </div>

        <!--<div style="color: #259C31;">   <!- - LABEL: FINISHED -- >
          <i class="icon pencil alternate"></i>
          <span>
            finished_label</span>
        </div>-->
      </div>
    </div>

  </div>

  <script th:if="${context == 'aside' && model.selectedSequenceId != null}" th:inline="javascript">
    (function () {
      var container = $('#layout-aside')
      var target = $('#' + [[${context}]] + '-[[${model.selectedSequenceId}]]')

      if (!elaastic.util.isVisible(target, container, 50)) {
        elaastic.util.ensureIsVisible(target, container)
      }
    })()

  </script>


  <style>
      .ui.selected.segment {
          background-color: #fffaf3;
          color: #573a08;
      }

      .ui.selected.segment .elaastic-phase.icon {
          display: none !important;
      }

      /* Attendees lit item CSS */
      @media only screen and (min-width: 1200px) {
        .attendee-item {
          padding-left: 10px !important;
          padding-right: 10px !important;
        }
      }
  </style>
</div>
